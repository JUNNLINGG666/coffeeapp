(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-754c725f"],{2629:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"SecurityCenter"},[s("div",{staticClass:"nav"},[s("van-nav-bar",{attrs:{title:"安全中心","left-text":"返回","left-arrow":""},on:{"click-left":t.back}})],1),s("div",{staticClass:"content"},[s("div",{staticClass:"bg"}),s("div",{staticClass:"cell"},[s("van-cell",{attrs:{title:"修改密码","is-link":""},on:{click:function(e){t.changepossword=!0}}}),s("van-popup",{staticClass:"changepossword",attrs:{position:"bottom",closeable:""},model:{value:t.changepossword,callback:function(e){t.changepossword=e},expression:"changepossword"}},[s("div",[s("h1",[t._v("修改密码")]),s("div",{staticClass:"usermsg"},[s("van-field",{attrs:{label:"旧密码","right-icon":t.issee?"eye-o":"closed-eye",type:t.issee?"text":"password"},on:{"click-right-icon":t.changeType},model:{value:t.oldpassword,callback:function(e){t.oldpassword=e},expression:"oldpassword"}}),s("van-field",{attrs:{label:"新密码",placeholder:"请输入用户密码(首位为字母的6-16位字符)","right-icon":t.issee?"eye-o":"closed-eye",type:t.issee?"text":"password"},on:{"click-right-icon":t.changeType},model:{value:t.newpassword,callback:function(e){t.newpassword=e},expression:"newpassword"}})],1),s("div",{staticClass:"forgot"},[s("span",[t._v("忘记密码？")])]),s("van-button",{attrs:{type:"info",round:"",block:""},on:{click:t.updatePassword}},[t._v("确认修改")])],1)]),s("van-cell",{attrs:{title:"注销账号","is-link":""},on:{click:t.destroy}})],1),s("van-button",{attrs:{type:"primary",size:"large",round:""},on:{click:t.offline}},[t._v("退出登录")])],1)])},o=[],i=(s("68ef"),s("a71a"),s("9d70"),s("3743"),s("4d75"),s("e3b3"),s("bc1b"),s("1175"),s("4cf9"),s("2fcb"),s("2241")),n={name:"SecurityCenter",data:function(){return{changepossword:!1,oldpassword:"",newpassword:"",issee:!1}},methods:{back:function(){this.$router.back()},offline:function(){var t=this;this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0});var e=this.$cookies.get("tokenString");if(!e)return this.$router.push({name:"Login"});this.axios({method:"POST",url:this.baseUrl+"/logout",data:{appkey:this.appkey,tokenString:e}}).then((function(e){return t.$toast.clear(),700==e.data.code?t.$router.push({name:"Login"}):"F001"===e.data.code?(t.$toast({message:e.data.msg,forbidClick:!0,duration:3e3}),t.$router.push({name:"Login"})):void t.$toast({message:e.data.msg,forbidClick:!0,duration:3e3})})).catch((function(e){t.$toast.clear(),console.log("err==>",e)}))},destroy:function(){var t=this;i["a"].confirm({title:"注销账号",message:"是否确定注销该账号"}).then((function(){t.$toast.loading({message:"加载中...",forbidClick:!0,duration:0});var e=t.$cookies.get("tokenString");if(!e)return t.$router.push({name:"Login"});t.axios({method:"POST",url:t.baseUrl+"/destroyAccount",data:{appkey:t.appkey,tokenString:e}}).then((function(e){return t.$toast.clear(),console.log("res==>",e),700==e.data.code?t.$router.push({name:"Login"}):"G001"===e.data.code?(t.$toast({message:e.data.msg,forbidClick:!0,duration:3e3}),t.$router.push({name:"Login"})):void t.$toast({message:e.data.msg,forbidClick:!0,duration:3e3})})).catch((function(e){t.$toast.clear(),console.log("err==>",e)}))})).catch((function(){}))},changeType:function(){this.issee=!this.issee},updatePassword:function(){var t=this,e=this.$cookies.get("tokenString");e||this.$router.push({name:"Login"}),this.$toast.loading({message:"加载中.....",forbidClick:!0,duration:0}),this.axios({method:"POST",url:this.baseUrl+"/updatePassword",data:{appkey:this.appkey,tokenString:e,password:this.newpassword,oldPassword:this.oldpassword}}).then((function(e){if(t.$toast.clear(),700==e.data.code||"E001"===e.data.code)return t.$toast({message:e.data.msg,forbidClick:!0,duration:3e3}),t.$router.push({name:"Login"});t.$toast({message:e.data.msg,forbidClick:!0,duration:3e3})})).catch((function(e){t.$toast.clear(),console.log("err==>",e)}))}}},r=n,c=(s("48f3"),s("2877")),d=Object(c["a"])(r,a,o,!1,null,"30fcd803",null);e["default"]=d.exports},"48f3":function(t,e,s){"use strict";s("be2a")},be2a:function(t,e,s){}}]);
//# sourceMappingURL=chunk-754c725f.08edbc31.js.map